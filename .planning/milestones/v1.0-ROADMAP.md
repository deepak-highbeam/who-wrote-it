# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-09
**Phases:** 1-4
**Total Plans:** 9

## Overview

This roadmap delivered a Go-based daemon that monitors code authorship across human-AI collaboration, classifies the nature of contributions, and surfaces actionable reports. The journey moved from building a reliable data collection pipeline (daemon + file watching + session parsing + git), through the intelligence layer (correlation, authorship spectrum, work-type classification), to the output layer (CLI reports, GitHub PR comments, code survival tracking). Four phases, each delivering a coherent capability that builds on the previous.

## Phases

### Phase 1: Data Pipeline

**Goal**: All three input signals (file system events, Claude Code session data, git history) flow through a stable daemon into a local SQLite store
**Depends on**: Nothing (first phase)
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md -- Daemon lifecycle, SQLite store, and Unix socket IPC (Wave 1)
- [x] 01-02-PLAN.md -- File system watcher with debouncing, filtering, and recursive watching (Wave 2)
- [x] 01-03-PLAN.md -- Claude Code session parser and git integration (Wave 2)
- [x] 01-04-PLAN.md -- Gap closure: Wire session parser and git integration into daemon (Wave 1)

**Details:**
- Go daemon with cobra CLI, SQLite WAL store (6 tables), Unix socket IPC
- fsnotify-based recursive file watcher with 100ms per-path debouncing
- JSONL session parser with SessionProvider abstraction for multi-tool extensibility
- go-git integration for commits, diffs, blame, and Co-Authored-By detection
- All three data sources wired into daemon lifecycle with per-subsystem cancellation

**Requirements:** DAEM-01, DAEM-02, DAEM-03, DAEM-04, FSWT-01, FSWT-02, FSWT-03, FSWT-04, CCSP-01, CCSP-02, CCSP-03, CCSP-04, GITI-01, GITI-02, GITI-03, GITI-04

### Phase 2: Intelligence

**Goal**: Raw signals are correlated and classified into a five-level authorship spectrum with work-type labels and a meaningful AI percentage metric
**Depends on**: Phase 1
**Plans**: 2 plans

Plans:
- [x] 02-01-PLAN.md -- Event correlation engine and five-level authorship classification (Wave 1)
- [x] 02-02-PLAN.md -- Work-type classification and meaningful AI metric (Wave 2)

**Details:**
- 5s time-window correlation with exact file match preferred over time proximity
- Five-level authorship spectrum: fully AI, AI-first/human-revised, human-first/AI-revised, AI-suggested/human-written, fully human
- Graduated confidence scoring (0.95 to 0.5 based on match quality)
- Heuristic work-type classifier with 6 categories and priority-based evaluation
- Three weight tiers: high (3.0) for architecture/core_logic, medium (2.0) for bug_fix/edge_case, low (1.0) for boilerplate/test_scaffolding
- User override support for misclassified work types

**Requirements:** CORR-01, CORR-02, CORR-03, AUTH-01, AUTH-02, AUTH-03, WTYP-01, WTYP-02, WTYP-03, METR-01, METR-02

### Phase 3: Output

**Goal**: Users can see attribution and classification results through CLI reports, GitHub PR comments, and code survival analysis
**Depends on**: Phase 2
**Plans**: 2 plans

Plans:
- [x] 03-01-PLAN.md -- CLI commands (analyze, enhanced status) and report generation (Wave 1)
- [x] 03-02-PLAN.md -- GitHub PR integration and code survival tracking (Wave 2)

**Details:**
- Offline report generation reading SQLite directly (no daemon dependency)
- ANSI-colored terminal output with spectrum breakdown and work-type distribution tables
- GitHub REST API PR comment posting with insight-driven Markdown format
- Content-hash based code survival analysis comparing attributions against git blame
- Schema migration v4 with code_survival table
- Auto-detection of GitHub remote, PR number, and token

**Requirements:** CLIO-01, CLIO-02, CLIO-03, GHPR-01, GHPR-02, GHPR-03, SURV-01, SURV-02

### Phase 4: Wire Attribution Pipeline

**Goal**: Connect the daemon's event collection to the existing correlation engine, authorship classifier, and work-type classifier so attributions are produced in live operation
**Depends on**: Phase 1, Phase 2, Phase 3
**Plans**: 1 plan

Plans:
- [x] 04-01-PLAN.md -- Wire attribution pipeline: store method + background processor + integration tests (Wave 1)

**Details:**
- Background attribution processor goroutine with 2s polling and 100-event batches
- LEFT JOIN-based unprocessed event query for efficient pipeline feeding
- Full pipeline: QueryUnprocessedFileEvents -> CorrelateFileEvent -> Classify -> ClassifyFile -> InsertAttribution -> UpdateAttributionWorkType
- Integration tests verifying both AI-match and human-only paths
- Gap closure for daemon-to-intelligence connection identified in milestone audit

**Requirements:** CORR-01, CORR-02, AUTH-01, AUTH-02, WTYP-01, WTYP-02, METR-01, METR-02

---

## Milestone Summary

**Decimal Phases:** None (no urgent insertions required during v1.0)

**Key Decisions:**
- Go chosen over Rust (I/O-bound daemon, go-git pure Go, simpler concurrency)
- modernc.org/sqlite over mattn/go-sqlite3 (pure Go, no CGO, clean cross-compilation)
- Heuristic classifier over LLM (lower latency, local, deterministic)
- Claude Code only in v1 (richest session data, extensible via SessionProvider interface)
- Daemon-captured data is primary attribution source, git is secondary
- Interface-based DI pattern for circular dependency resolution
- 5s default correlation window with exact file match preferred
- Three weight tiers for meaningful AI metric (3.0/2.0/1.0)
- Content-hash comparison for code survival tracking
- No external GitHub SDK (standard net/http)

**Issues Resolved:**
- Daemon not invoking correlation/authorship/worktype pipeline (resolved by Phase 4 gap closure)
- go-git Blame Line field mapping (Author vs AuthorName counter-intuitive naming)
- Co-Authored-By regex multi-line matching (Go $ only matches end-of-string by default)

**Issues Deferred:**
- Background daemonization (foreground only in v1 — fine for development)
- Claude Code JSONL format instability (mitigated by SessionProvider abstraction)

**Technical Debt Incurred:**
- SurvivalReport type duplicated in github package to avoid circular imports
- Forward-compatibility exports (ClassifyWithHistory, CorrelateAll, ClassifyFromGit) — intentional, not debt

---

_For current project status, see .planning/PROJECT.md_
