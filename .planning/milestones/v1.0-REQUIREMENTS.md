# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-09
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Who Wrote It

**Defined:** 2026-02-09
**Core Value:** Reveal how AI is being used in development — not vanity line counts, but the nature of human-AI collaboration on every piece of work.

## v1 Requirements

### Daemon Foundation

- [x] **DAEM-01**: Daemon starts as background process and runs continuously with negligible idle resource usage
- [x] **DAEM-02**: Daemon communicates with CLI client over Unix domain socket
- [x] **DAEM-03**: Daemon handles graceful shutdown and crash recovery
- [x] **DAEM-04**: Local SQLite database stores all attribution data (WAL mode)

### File System Watching

- [x] **FSWT-01**: Daemon watches project directory for file creation, modification, and deletion events
- [x] **FSWT-02**: Daemon debounces editor event storms (multiple events per save)
- [x] **FSWT-03**: Daemon recursively watches new subdirectories as they are created
- [x] **FSWT-04**: Daemon ignores configured paths (.git, node_modules, build artifacts)

### Claude Code Session Parsing

- [x] **CCSP-01**: Daemon discovers and tails Claude Code JSONL session files
- [x] **CCSP-02**: Daemon extracts Write tool_use events with file paths and content
- [x] **CCSP-03**: Daemon handles new session file creation (session rotation)
- [x] **CCSP-04**: Parser sits behind abstraction layer for future AI tool extensibility

### Git Integration

- [x] **GITI-01**: Parse git commits, diffs, and blame for line-level authorship
- [x] **GITI-02**: Handle rebases, squash merges, and renamed files correctly
- [x] **GITI-03**: Detect Co-Authored-By tags as AI attribution signal
- [x] **GITI-04**: Use git as secondary attribution source (daemon data is primary)

### Event Correlation

- [x] **CORR-01**: Match file system events to Claude Code session events using time-window correlation
- [x] **CORR-02**: Produce per-line attribution records with authorship level
- [x] **CORR-03**: Handle ambiguous cases (mark as "uncertain" rather than guess)

### Authorship Classification

- [x] **AUTH-01**: Classify each code contribution on 5-level spectrum: fully AI, AI-first/human-revised, human-first/AI-revised, AI-suggested/human-written, fully human
- [x] **AUTH-02**: Use session timestamps + file events to determine who went first
- [x] **AUTH-03**: Aggregate line-level attribution to file and project levels

### Work-Type Classification

- [x] **WTYP-01**: Classify code changes as: architecture, core logic, boilerplate, bug fix, edge case handling, test scaffolding
- [x] **WTYP-02**: Use heuristic rules (file paths, AST patterns, change patterns) not LLM
- [x] **WTYP-03**: Allow user override of misclassified work types

### Meaningful AI Metric

- [x] **METR-01**: Compute "meaningful AI %" weighting by work type (architecture + core logic weighted higher than boilerplate)
- [x] **METR-02**: Compute per-file and per-project meaningful AI percentages

### Code Survival

- [x] **SURV-01**: Track whether AI-written code persists across subsequent commits
- [x] **SURV-02**: Report code survival rate by authorship level and work type

### CLI Output

- [x] **CLIO-01**: `who-wrote-it analyze` produces attribution report for current repo
- [x] **CLIO-02**: `who-wrote-it status` shows daemon status and data collection stats
- [x] **CLIO-03**: Per-file breakdown showing authorship spectrum and work-type distribution

### GitHub PR Integration

- [x] **GHPR-01**: Auto-post collaboration summary comment on PR creation
- [x] **GHPR-02**: PR comment shows authorship breakdown by work type (not just line counts)
- [x] **GHPR-03**: PR comment shows which files had which collaboration pattern

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| DAEM-01 | Phase 1 | Complete |
| DAEM-02 | Phase 1 | Complete |
| DAEM-03 | Phase 1 | Complete |
| DAEM-04 | Phase 1 | Complete |
| FSWT-01 | Phase 1 | Complete |
| FSWT-02 | Phase 1 | Complete |
| FSWT-03 | Phase 1 | Complete |
| FSWT-04 | Phase 1 | Complete |
| CCSP-01 | Phase 1 | Complete |
| CCSP-02 | Phase 1 | Complete |
| CCSP-03 | Phase 1 | Complete |
| CCSP-04 | Phase 1 | Complete |
| GITI-01 | Phase 1 | Complete |
| GITI-02 | Phase 1 | Complete |
| GITI-03 | Phase 1 | Complete |
| GITI-04 | Phase 1 | Complete |
| CORR-01 | Phase 2 | Complete |
| CORR-02 | Phase 2 | Complete |
| CORR-03 | Phase 2 | Complete |
| AUTH-01 | Phase 2 | Complete |
| AUTH-02 | Phase 2 | Complete |
| AUTH-03 | Phase 2 | Complete |
| WTYP-01 | Phase 2 | Complete |
| WTYP-02 | Phase 2 | Complete |
| WTYP-03 | Phase 2 | Complete |
| METR-01 | Phase 2 | Complete |
| METR-02 | Phase 2 | Complete |
| CLIO-01 | Phase 3 | Complete |
| CLIO-02 | Phase 3 | Complete |
| CLIO-03 | Phase 3 | Complete |
| GHPR-01 | Phase 3 | Complete |
| GHPR-02 | Phase 3 | Complete |
| GHPR-03 | Phase 3 | Complete |
| SURV-01 | Phase 3 | Complete |
| SURV-02 | Phase 3 | Complete |

**Coverage:**
- v1 requirements: 35 total
- Mapped to phases: 35
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 35 of 35 v1 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-02-09 as part of v1.0 milestone completion*
